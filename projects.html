@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Source+Serif+4:wght@400;700&display=swap');

@layer reset, base, theme, components, utilities;

@layer reset {
  
  *,
  *::before,
  *::after { box-sizing: border-box; margin: 0; padding: 0; }

  
  :is(nav, footer) > ul { list-style: none; }
}

@layer base {
  
  :root {
    --scrollbar-track: #D2DFF5;
    --scrollbar-thumb: #4E586F;
    --bg: #0f1222;
    --surface: #171a2f;
    --text: #e9edff;
    --muted: #a3b3ff;
    --accent: #7aa2ff;
    --radius: 1rem;
    --gutter: 1rem;
    --vh: 100dvh; 
    --vw: 100dvw; 
  }

  html { 
      scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
  scrollbar-gutter: stable;
    font-size: 100%; 
    scroll-behavior: smooth; }
    

  body {
    min-height: var(--vh, 100vh);
    background: var(--bg, #0f1222);
    color: var(--text, #e9edff);
    font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.6;
  }

  
  ::selection { background: color-mix(in oklab, var(--accent, #7aa2ff) 40%, white); color: #0b1020; }
  :focus-visible {
    outline: 2px solid var(--accent, #7aa2ff);
    outline-offset: 2px;
    border-radius: .25rem;
  }

  ::-webkit-scrollbar {
  width: 0.8rem;
}
::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}
::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 999px;
}
  @view-transition {
    navigation: auto;
  }
}

@layer theme {
  
  @media (prefers-color-scheme: light) {
    :root {
      --bg: #f7f8ff;
      --surface: #ffffff;
      --text: #0f1222;
      --muted: #495aa8;
      --accent: #2e49ff;
    }
  }

  
  @media (forced-colors: active) {
    :root { --accent: ButtonText; }
    * { border-color: CanvasText; }
    a { color: LinkText; }
  }
}

@layer components {
  
  .page {
    display: grid;
    grid-template-columns: 1fr min(70rem, 92%) 1fr;
    gap: clamp(3rem, 5vw, 5rem);
  }
  .page > * { grid-column: 2 / -2; }
  .full-bleed { grid-column: 1 / -1; }

  
  header.site-header {
    position: sticky; top: 0; z-index: 10;
    background: color-mix(in oklab, var(--surface, #171a2f) 85%, black);
    border-bottom: 1px solid color-mix(in oklab, var(--accent, #7aa2ff) 20%, transparent);
    backdrop-filter: blur(8px) saturate(1.1);
  }
  .navbar {
    max-width: min(70rem, 92%);
    margin-inline: auto;
    padding: .75rem clamp(1rem, 4vw, 2rem);
    display: flex; align-items: center; justify-content: space-between;
  }
  .brand { font-weight: 800; letter-spacing: .02em; text-transform: uppercase; }
  .navbar nav ul { display: flex; gap: clamp(.5rem, 2.5vw, 1rem); }
  
  nav :is(a, button) {
    text-decoration: none; color: var(--text, #e9edff);
    padding: .5em .8em; border-radius: 999px; font-weight: 600;
    transition: background-color 180ms ease, transform 140ms ease;
  }
  .navbar a:hover { background: color-mix(in oklab, var(--accent) 18%, transparent); transform: translateY(-1px); }
  .navbar a[aria-current="page"] { background: var(--accent, #7aa2ff); color: #091025; }

 
  main {
    display: grid;
    gap: clamp(.5rem, 1vw, 1.5rem);
  }

  }
  h1, h2, h3 { line-height: 1.25; }
  h1 { font-size: clamp(1.6rem, 4vw, 2.4rem); }
  h2 { font-size: clamp(1.3rem, 3vw, 1.8rem); }
  h3 { font-size: clamp(1.1rem, 2.5vw, 1.3rem); }

  
  @scope (.prose) {
    p { font-size: 1.05rem; max-width: 65ch; }
    blockquote {
      font-family: "Source Serif 4", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
      border-inline-start: 4px solid var(--accent, #7aa2ff);
      padding: .25rem 1rem; margin: 1rem 0; color: var(--muted, #a3b3ff);
      background: color-mix(in oklab, var(--surface, #171a2f) 80%, black);
      border-radius: .5rem;
    }
    a { color: var(--accent, #7aa2ff); }
    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      background: color-mix(in oklab, var(--surface) 70%, black);
      padding: .15em .35em; border-radius: .35em;
    }
  }

  
  .button {
    --btn-bg: var(--accent, #7aa2ff);
    --btn-fg: #0b1020;
    display: inline-flex; align-items: center; gap: .6em;
    padding: .7em 1.1em; border-radius: 999px;
    border: 1px solid color-mix(in oklab, var(--btn-bg) 20%, black);
    background: var(--btn-bg); color: var(--btn-fg);
    text-decoration: none; font-weight: 700;
    transition: transform 180ms ease, box-shadow 220ms ease, background-color 180ms ease;
    box-shadow: 0 .2rem 1rem color-mix(in oklab, var(--btn-bg) 25%, transparent);
  }
  .button:hover { transform: translateY(-2px) scale(1.01); }
  .button:active { transform: translateY(0); }
  @keyframes bob { 0%{transform:translateY(0)} 50%{transform:translateY(-3px)} 100%{transform:translateY(0)} }
  .button[data-anim="bob"] { animation: bob 3.2s ease-in-out infinite; }

  
  form { display: grid; gap: .8rem; max-width: 40rem; }
  .form-row { display: flex; flex-wrap: wrap; gap: 1rem; }
  .form-row > * { flex: 1 1 14rem; }
  input, textarea, select {
    width: 100%; padding: .75em .9em; border-radius: .75rem;
    border: 1px solid color-mix(in oklab, var(--accent) 25%, transparent);
    background: color-mix(in oklab, var(--surface) 80%, black);
    color: var(--text, #e9edff);
    font: inherit;
    transition: border-color 160ms ease, background-color 160ms ease, transform 120ms ease;
  }
  input:focus, textarea:focus, select:focus { border-color: var(--accent); transform: translateY(-1px); }

  
  input[type="password"] { letter-spacing: .1em; }

  
  input:valid { border-color: color-mix(in oklab, green 60%, var(--accent)); }
  input:invalid { border-color: color-mix(in oklab, red 60%, var(--accent)); }
  
  input:user-invalid { background-color: color-mix(in oklab, red 15%, transparent); }

  
  a[href$=".pdf"]::after {
    content: " (PDF)";
    font-size: .85em;
    opacity: .8;
  }

  
  #contactform *[required] { outline: 1px dashed color-mix(in oklab, var(--accent) 35%, gray); outline-offset: .2rem; }

  
  form-field:has([required]) label::before {
    content: "(*)";
    color: red;
    margin-inline-end: .25rem;
  }

  
  p:not(.special) { text-wrap: pretty; }

  
  h1, h2, h3 { letter-spacing: .01em; }
  article.research #introsection p { color: var(--muted); }
  ul > li { list-style-position: inside; }
  h1 + p { opacity: .95; }
  h2#instructions ~ p { background: color-mix(in oklab, yellow 12%, transparent); padding: .25rem .5rem; border-radius: .35rem; }

  
  footer.site-footer {
    margin-top: 4rem;
    padding: 2rem 1rem;
    text-align: center;
    color: var(--muted, #a3b3ff);
    background: color-mix(in oklab, var(--surface, #171a2f) 85%, black);
    border-top: 1px solid color-mix(in oklab, var(--accent, #7aa2ff) 20%, transparent);
  }

  
  @media (max-width: 50rem) {
    .navbar nav ul { gap: .4rem; flex-wrap: wrap; }
    .card-grid { --min: 14rem; }
    .page { gap: clamp(.5rem, 2vw, 1rem); }
  }

  
  @media (prefers-reduced-motion: reduce) {
    * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
  }


@layer utilities {
  .container { max-width: min(70rem, 92%); margin-inline: auto; }
  .muted { color: var(--muted, #a3b3ff); }
  .flow > * + * { margin-top: 1em; } 
  .hidden { visibility: hidden; }
  .sr-only {
    position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
  }

  
  .float-left { float: left; margin-right: 1rem; }
  .float-right { float: right; margin-left: 1rem; }
  .clear-left { clear: left; }
  .clear-right { clear: right; }
  .clear-both { clear: both; }

  
  .pos-relative { position: relative; }
  .pos-absolute { position: absolute; }
  .pos-fixed { position: fixed; }
  .pos-sticky { position: sticky; top: 0; }
  .z-1 { z-index: 1; } .z-10 { z-index: 10; } .z-100 { z-index: 100; }

  
  p a { text-decoration: underline; }
  nav a { text-decoration: none; }

  
  .w-100 { width: 100%; }
  .maxw-65ch { max-width: 65ch; }
}

